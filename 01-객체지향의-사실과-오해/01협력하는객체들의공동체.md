# 01 / 협력하는 객체들의 공동체

### 객체지향을 향한 걸음

1. 객체지향은 클래스가 아니라 **객체를 바라보는 것**에서부터 시작한다.
2. 객체를 독립적인 존재가 아닌 **기능을 구현하기 위해 협력하는 공동체의 존재**로 바라본다.
3. 협력에 참여하는 객체들에게 얼마나 **적절한 역할과 책임을 부여할 수 있느냐**에 달려있다.
4. 앞서 설명한 3가지 개념들을 **내가 사용하는 프로그래밍 언어라는 틀에 흐트러짐 없이 담아낼 수 있는 기술을 익히는 것**이다.

### 객체지향에서 가장 중요한 개념 3가지

- 역할
- 책임
- 협력

### 커피 주문 이벤트 (협력)

|          | 역할                         | 책임                      |
| -------- | ---------------------------- | ------------------------- |
| 손님     | 커피 주문하는 역할           | 커피를 주문할 책임        |
| 캐시어   | 손님의 커피 주문을 받는 역할 | 손님의 주문을 받을 책임   |
| 바리스타 | 커피를 제조하는 역할         | 주문된 커피를 제조할 책임 |

커피 주문이라는 **협력**에 참여하는 모든 사람들은 커피가 정확하게 주문되고, 주문된 커피가 손님에게 정확히 전달될 수 있도록 맡은 **역할**과 **책임**을 다하고 있다.

## 요청 (request)과 응답 (response)으로 구성된 협력

요청과 응답을 통해 다른 사람과 협력 (collaboration) 하고, 협력의 성공은 특정 역할을 맡은 각 개인이 얼마나 요청을 성실하게 이행하느냐에 달려 있다.

#### 요청 (request)

- 일반적으로 문제 해결을 위해서는 다수의 사람/역할이 필요하기 때문에, 한 사람에 대한 요청이 또 다른 사람에 대한 요청을 유발하는 것이 일반적이다
- 요청은 연쇄적으로 발생한다.

<img width="780" alt="스크린샷 2022-03-01 오후 3 31 17" src="https://user-images.githubusercontent.com/95578975/156117116-8b6b06d2-4f0d-485d-a101-9ce64d496073.png">

#### 응답 (response)

- 요청을 받은 사람은 주어진 책임을 다하면서 필요한 지식이나 서비스를 제공한다. 즉, 다른 사람의 요청에 응답 (response) 한다. 
- 요청이 연이어 발생하므로 응답 또한 요청과 반대 방향으로 연쇄적으로 전달된다.

<img width="780" alt="스크린샷 2022-03-01 오후 3 34 29" src="https://user-images.githubusercontent.com/95578975/156117424-24a575b8-d1fc-480e-acbd-33ed187811fb.png">

## 역할과 책임

### 역할과 책임

- 협력이 원활히 진행되는 데 필요한 핵심적인 구성 요소

- 역할은 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임 또는 의무
- 역할은 의미적으로 책임이라는 개념을 내포하고, 특정한 역할은 특정한 책임을 암시한다
  -  우리는 프로그래머라는 역할을 맡고, 훌량한 프로그램을 개발할 책임이 있다.
- 협력에 참여하며 특정한 역할을 수행하는 사람들은 역할에 적합한 책임을 수행하게 된다.



사람들이 협력을 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행한다는 사실은 아래 개념들을 제시한다.

- 여러 사람이 동일한 역할을 수행할 수 있다.
  - 손님은 어떤 캐시어가 주문을 받는지는 중요하지 않다. 누구든 캐시어의 역할만 수행한다면 캐시어를 할 수 있다.
- 역할은 **대체 가능성 (substitutable)** 을 의미한다.
  - 캐시어 두 명이 동일한 역할을 수행할 수 있다면, 손님 입장에서 둘 중 어떤 사람이 역할을 수행하더라도 문제가 되지 않는다.
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다. 
  - 커피를 제조하는 동일한 요청을 받더라도 바리스타의 역할을 수행하는 사람들마다 서로 다른 방식으로 요청을 처리한다.
  - 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력 => **다형성 (polymorphism)**
- 한 사람이 동시에 여러 역할을 수행할 수 있다.
  - 한 사람이 캐시어와 바리스타의 역할을 동시에 수행하는 것도 가능하다.
